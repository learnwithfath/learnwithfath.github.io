<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn with Fath - Interactive Tutorials</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéì Learn with Fath</h1>
            <p class="subtitle">Interactive tutorials to master new skills</p>
            
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="totalCodelabs">0</span>
                    <span class="stat-label">Tutorials</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalSubPhases">0</span>
                    <span class="stat-label">Sub-Phases</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalMajorPhases">0</span>
                    <span class="stat-label">Major Phases</span>
                </div>
            </div>

            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç Search tutorials...">
            </div>
        </header>

        <!-- Loading Indicator -->
        <div class="loading-indicator" id="loadingIndicator" style="display: none;">
            <div class="spinner"></div>
            <p>Loading codelabs...</p>
        </div>

        <!-- Error Container -->
        <div class="error-container" id="errorContainer" style="display: none;"></div>

        <!-- Codelabs Grid -->
        <div class="codelabs-grid" id="codelabsGrid">
            <!-- Cards will be dynamically rendered here -->
        </div>

        <!-- No Results Message -->
        <div class="no-results" id="noResults" style="display: none;">
            No tutorials found. Try a different search term.
        </div>

        <!-- Pagination -->
        <div class="pagination-container" id="paginationContainer" style="display: none;">
            <button class="pagination-btn" id="prevButton">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                Previous
            </button>
            
            <span class="page-info" id="pageInfo">Page 1 of 1</span>
            
            <button class="pagination-btn" id="nextButton">
                Next
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                </svg>
            </button>
        </div>

        <footer>
            <p>Built with ‚ù§Ô∏è using Google Codelabs</p>
            <p style="margin-top: 10px; opacity: 0.8;">Start your learning journey today!</p>
        </footer>
    </div>

    <!-- Load all JavaScript modules -->
    <script src="js/CodelabDataService.js"></script>
    <script src="js/CodelabCardRenderer.js"></script>
    <script src="js/PaginationController.js"></script>
    <script src="js/SearchController.js"></script>
    <script src="js/UIController.js"></script>
    <script src="js/CodelabApp.js"></script>
    
    <!-- Initialize App -->
    <script>
        // Configuration object (Dependency Injection)
        const appConfig = {
            dataUrl: 'data/codelabs.json',
            itemsPerPage: 6,
            elements: {
                searchInput: document.getElementById('searchInput'),
                codelabsGrid: document.getElementById('codelabsGrid'),
                noResults: document.getElementById('noResults'),
                totalCodelabs: document.getElementById('totalCodelabs'),
                totalSubPhases: document.getElementById('totalSubPhases'),
                totalMajorPhases: document.getElementById('totalMajorPhases'),
                paginationContainer: document.getElementById('paginationContainer'),
                prevButton: document.getElementById('prevButton'),
                nextButton: document.getElementById('nextButton'),
                pageInfo: document.getElementById('pageInfo'),
                loadingIndicator: document.getElementById('loadingIndicator'),
                errorContainer: document.getElementById('errorContainer')
            }
        };

        // Initialize and start the app
        const app = new CodelabApp(appConfig);
        app.init();

        // Expose app to window for debugging (optional)
        window.codelabApp = app;
    </script>
</body>
</html>
